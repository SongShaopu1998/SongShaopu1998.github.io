---
layout:		post
title:		CS基础课程3
subtitle:	CS 106B + CS 106L + CS 225
date:		2021-9-05
author:		shaopu
header-img:	img/code.png
catalog:	true

tags:
    - C++
    - data structures and algorithms
    - CS基础课程笔记
---

> 开始这一系列课程的目的主要有两个：
>
> 1. 掌握基本的数据结构与算法内容
> 2. 熟悉基本的C++语法和操作
>
> 由于Stanford CS 106B是*quarter*制的授课模式，所以内容相比CS 61B和UIUC的CS 225要稍显简略，考虑到CS 225这门课程也是C++授课，并且是玉米地核心课程之一，但无奈只有注册可课程的人才能获得lab和mp，所以打算利用这门课把CS 106B的没有涉及到的部分补充完整；利用CS 106L在C++上稍微深入一下。
>
> 在此前修完了CS 61A，个人计划是在完成这三门课的穿插学习之后，学习Berkeley CS 170的算法课。

---

## CS 106B Lecture 2 -- Functions & Strings

### Output Parameters

*Pass by reference to return multiple items.*

当`pass by value`时，参数会复制一份到函数自身的`frame`里，所以外部的值不会改变，但是`pass by reference`是传指针。

```c++
void datingRange(int age, int& min, int& max) { 
    min = age / 2 + 7; max = (age - 7) * 2;
}
int main() { 
    int young; 
    int old; 
    datingRange(48, young, old); 
    cout << "A 48-year-old could date someone from " << young << " to " << old " years old." << endl;
}
```

### C String bugs

C本身提供的字符串不具备`+，find`等一系列功能，所以在使用时，最好要转化为C++格式的字符串，用`string`类型做变量类型声明：

> - string("*text*") C string to C++ string – 
>
> - *string*.c_str() C++ string to C string

```C++
string s = string("hi") + "there"; 
string s = "hi";           // convert to C++ string (auto-conversion)

s += "there";
```

## CS 106B Lecture 3 -- Vectors & Grid; IO stream

### Vector & Grid

使用方法：

```C++
Vector<int> names;
names.add("Dog");

Grid<int> matrix(3,4);
```

可以使用`range for loop`:

```C++
for(int value: matrix){
    // do something with value;
}
```

> 当他们作为函数参数使用时，要注意传递引用，`pass by value`是很慢的

### IO Stream

```c++
iftream input;
input.open("poem.txt");
if (input.fail()){
    // do something if fails;
}
else{
    string line;
    while(getline(input, line)){
    cout << line << endl;
	}
}
input.close();
```

一种错误的文件遍历方法：

```C++
while(!input.fail()){
    string line;
    getline(input, line);
    cout << line << endl;
}
```

这种方法的问题在于，会多遍历一行（可能是空行），因为在读取完最后一行的数据后，`input.fail`仍然为`false`.

我们也可以通过操作符`>>`进行文件读取：

<img src="https://shaopu-blog.oss-cn-beijing.aliyuncs.com/img/202109051747830.png" alt="image-20210905174746335" style="zoom:50%;" />

